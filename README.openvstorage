

BUILDING FOR UBUNTU 14.04
=========================

    mkdir WORK
    cd WORK

    ## manually fetch latest libovsvolumedriver + libovsvolumedriver-dev packages here

    git clone https://github.com/openvstorage/tgt

    docker build -t bldenv tgt/jenkins/ubuntu/docker

    docker run -d -v ${PWD}:/home/jenkins/workspace -e UID=${UID} --name builder -h builder bldenv
    docker exec -u jenkins -i -t builder /bin/bash -l

    cd ~/workspace
    ./tgt/jenkins/ubuntu/build_debs.sh

    exit
    docker stop builder && docker rm builder
    docker rmi bldenv

Resulting debian packages will be in WORK directory


BUILDING FOR CENTOS
===================

    mkdir WORK
    cd WORK

    git clone https://github.com/openvstorage/tgt

    docker build -t bldenv tgt/jenkins/centos/docker

    docker run -d -v ${PWD}:/home/jenkins/workspace -e UID=${UID} --name builder -h builder bldenv
    docker exec -u jenkins -i -t builder /bin/bash -l

    cd ~/workspace
    ./tgt/jenkins/centos/build_rpms.sh

    exit
    docker stop builder && docker rm builder
    docker rmi bldenv

Resulting rpm files will be in WORK/rpm/RPMS/x86_64 and WORK/rpm/SPMS

